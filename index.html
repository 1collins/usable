<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Unico Kitchen — Recipes, Shop & Gas</title>
<style>
  :root{--accent:#ff6b35;--muted:#666;--bg:#fafafa}
  *{box-sizing:border-box}
  body{margin:0;font-family:Arial,system-ui,sans-serif;background:var(--bg);color:#111}
  header{background:#fff;padding:12px;box-shadow:0 2px 8px rgba(0,0,0,.06);position:sticky;top:0;z-index:60}
  .container{max-width:1000px;margin:0 auto;padding:12px}
  .header-row{display:flex;align-items:center;gap:12px}
  .brand{font-weight:800;color:var(--accent);font-size:18px}
  .tabs{margin-left:20px;display:flex;gap:8px}
  .tab{padding:8px 10px;border-radius:8px;cursor:pointer}
  .tab.active{background:#fff;border:1px solid #eee;box-shadow:0 2px 8px rgba(0,0,0,.04)}
  .actions{margin-left:auto;display:flex;gap:8px;align-items:center}
  .count{background:var(--accent);color:#fff;padding:6px 10px;border-radius:999px;font-weight:700}
  button{cursor:pointer;border:none;padding:8px 10px;border-radius:8px;background:var(--accent);color:#fff}
  .ghost{background:#eee;color:#111}
  main{padding:18px}
  .quickbar{background:#fff;padding:8px 12px;border-bottom:1px solid #f3f3f3;display:flex;gap:12px;align-items:center;justify-content:center}
  .quick-item{display:flex;gap:8px;align-items:center;background:#fff;padding:6px;border-radius:8px;border:1px solid #f0f0f0}
  .blink{ animation: blinkAnim .9s ease-in-out; }
  @keyframes blinkAnim { 0%{transform:scale(1)}50%{transform:scale(1.06)}100%{transform:scale(1)} }
  .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:12px}
  .card{background:#fff;padding:12px;border-radius:10px;box-shadow:0 4px 18px rgba(0,0,0,.04)}
  .card img{width:100%;height:150px;object-fit:cover;border-radius:8px}
  .buttons{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
  .hidden{display:none}
  .shop-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px}
  .shop-item img{height:110px;width:100%;object-fit:cover;border-radius:8px}
  .cart-panel{position:fixed;right:16px;bottom:16px;background:#fff;padding:12px;border-radius:10px;box-shadow:0 14px 40px rgba(0,0,0,.12);width:320px;max-height:70vh;overflow:auto;z-index:70}
  .ingredient-row{display:flex;justify-content:space-between;align-items:center;padding:6px 0;border-bottom:1px dashed #f0f0f0}
  footer{padding:16px;text-align:center;color:var(--muted);font-size:13px}
  input[type=number]{padding:6px;border:1px solid #eee;border-radius:6px}
  small.note{color:var(--muted);display:block;margin-top:6px}
  .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:90px;background:#222;color:#fff;padding:10px 14px;border-radius:8px;box-shadow:0 8px 30px rgba(0,0,0,.2);opacity:0;transition:opacity .25s,transform .25s;z-index:999}
  .toast.show{opacity:1;transform:translateX(-50%) translateY(0)}
  @media (max-width:720px){ .grid{grid-template-columns:1fr} .tabs{display:none} .cart-panel{width:92%;right:4%} .quickbar{flex-direction:column;gap:8px} }
</style>
</head>
<body>

<header>
  <div class="container header-row">
    <div style="display:flex;align-items:center;gap:12px">
      <!-- LOGO: change the src to your own uploaded image (recommended to upload to repo and use raw.githubusercontent url or relative path) -->
      <img id="logo" src="https://chatgpt.com/backend-api/estuary/content?id=file_000000000be46243bf003c9c16ca6bd8&ts=489056&p=fs&cid=1&sig=47850247fa0cf989f007af960a690ab0e8320ab43338b560e3837b4c507e6078&v=0" alt="logo" style="width:56px;height:56px;border-radius:10px;object-fit:cover">
      <div>
        <div class="brand">Unico Kitchen</div>
        <small class="note">You cook — we follow (recipes, shop & gas)</small>
      </div>
    </div>

    <nav class="tabs" id="navTabs" aria-label="Main tabs">
      <div class="tab active" data-tab="recipes">Recipes</div>
      <div class="tab" data-tab="shop">Shop</div>
      <div class="tab" data-tab="gas">Gas</div>
      <div class="tab" data-tab="fridge">Fridge</div>
    </nav>

    <div class="actions">
      <div id="cartCount" class="count">0</div>
      <button id="openCartBtn" class="ghost">Cart</button>
      <button id="sendOrderHeader" class="ghost">Send Order</button>
      <button id="sendPlanHeader" class="ghost">Send Plan</button>
    </div>
  </div>

  <div class="quickbar container" id="quickBar">
    <div style="font-weight:700;color:var(--muted)">Quick Buy:</div>
    <div id="quickItems" style="display:flex;gap:8px;align-items:center"></div>
    <div style="display:flex;gap:8px;align-items:center;margin-left:8px">
      <label style="font-size:14px">Quick Gas:</label>
      <input id="quickGasQty" type="number" min="1" value="1" style="width:70px;padding:6px;border-radius:6px;border:1px solid #eee">
      <button id="quickAddGas" class="">Add Gas</button>
    </div>
  </div>
</header>

<main class="container">
  <section id="recipes" class="tab-panel">
    <h2>All Recipes</h2>
    <small class="note">Click "Cook (WhatsApp)" to send a friendly recipe message (no prices).</small>
    <div id="recipesGrid" class="grid" style="margin-top:12px"></div>
  </section>

  <section id="shop" class="tab-panel hidden">
    <h2>Shop</h2>
    <small class="note">Add shop items (priced) to the cart; Add to Fridge saves ingredients (no price).</small>
    <div id="shopGrid" class="shop-grid" style="margin-top:12px"></div>
  </section>

  <section id="gas" class="tab-panel hidden">
    <h2>Gas Tokens</h2>
    <div style="background:#fff;padding:12px;border-radius:8px">
      <p class="note">Each gas minute = 1 token. Change token price in CONFIG below if needed.</p>
      <div style="display:flex;gap:10px;align-items:center">
        <label>Tokens: <input id="gasQty" type="number" min="1" value="1" style="width:80px"></label>
        <div>Price/token: <strong id="tokenPrice">50</strong> KES</div>
        <button id="addGas">Add</button>
      </div>
      <div style="margin-top:8px">Estimated: <strong id="gasTotal">50</strong> KES</div>
    </div>
  </section>

  <section id="fridge" class="tab-panel hidden">
    <h2>Your Fridge</h2>
    <small class="note">Saved ingredients (no prices). Click "View in shop" to jump to the shop item.</small>
    <div id="fridgeList" style="margin-top:12px"></div>
  </section>
</main>

<div id="cartPanel" class="cart-panel" style="display:none" aria-live="polite">
  <h3 style="margin:0 0 8px">Cart</h3>
  <div id="cartItems"></div>
  <div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center">
    <div><strong>Total:</strong> <span id="cartTotal">0</span> KES</div>
    <div style="display:flex;gap:8px">
      <button id="clearCart" class="ghost">Clear</button>
      <button id="sendCart">Send Order</button>
    </div>
  </div>
</div>

<div id="toast" class="toast" role="status" aria-live="polite"></div>

<footer>Built for Unico Kitchen — edit logo, phone, recipes and shop items in the JS below.</footer>

<script>
/* ============================
   CONFIG — edit these values
   ============================ */
const CONFIG = {
  PHONE: '254798459336',        // <-- your WhatsApp number (international, no +)
  TOKEN_PRICE: 50,              // <-- price per gas token (KES)
  featuredShopIds: ['rice1','noodles1','oil1'] // quick bar items (use shop item ids)
};

/* ============================
   RECIPES — keep or edit here
   (These are the recipes you provided earlier)
   ============================ */
const recipes = [
  /* (Same recipes list as provided earlier. For brevity they are included below.)
     If you need to add or edit recipes later, change the array here. */
  {
    id: 'chicken-pilau',
    title: 'Chicken Pilau',
    image: 'https://img-global.cpcdn.com/recipes/cefe9d01076b938b/300x426f0.5_0.56875_1.0q80/chicken-pilau-recipe-main-photo.webp',
    ingredients: [
      { name: '3 cups basmati rice', shopId: 'rice1' },
      { name: '2 tbsn pilau masala', shopId: 'pilau-spice' },
      { name: 'Onions', shopId: 'onion1' },
      { name: 'Salt', shopId: 'salt1' },
      { name: 'Garlic ginger paste', shopId: 'garlic1' },
      { name: '6 cups hot water' },
      { name: '2 kg chicken pieces', shopId: 'chicken1' }
    ],
    steps: [
      'Fry lots of onions till black in color (this is the secret to a colorful and tasty pilau). Keep stirring to avoid them getting burnt.',
      'Add garlic ginger paste and stir till fragrant then add the pilau masala spice and salt.',
      'Stir in the pre-baked chicken and cook for about 5 min to infuse the flavors.',
      'Add rice, water and cook on medium heat till the water evaporates.',
      'Enjoy.'
    ]
  },

  /* Additional recipes (ugali, pancakes, biryani, etc.) - copy/paste or edit as needed */
  {
    id: 'beef-pilau',
    title: 'Beef Pilau',
    image: 'https://img-global.cpcdn.com/recipes/1b7f76052ea23f19/300x426cq80/beef-pilau-recipe-main-photo.webp',
    ingredients: [
      { name: '2 cups rice', shopId: 'rice1' },
      { name: '150 g boiled beef' },
      { name: 'Pilau masala', shopId: 'pilau-spice' },
      { name: '2 large chopped onion', shopId: 'onion1' },
      { name: '2 tbs garlic paste', shopId: 'garlic1' },
      { name: '1 tbs ginger paste' },
      { name: '3 tbs cooking oil', shopId: 'oil1' },
      { name: '4 cups boiled water / bone broth' },
      { name: 'Salt' }
    ],
    steps: [
      'In a pan add the cooking oil and the chopped onions.',
      'Cook until lightly brown, add ginger and garlic paste.',
      'Cook until golden brown; add boiled beef, pilau masala, salt and rice.',
      'Add bone broth / water and cook under low heat until rice is done.',
      'Serve and enjoy.'
    ]
  },

  /* add other recipes from your list (ugali, biryani, pancakes etc.) as you prefer */
  {
    id: 'ugali-basic',
    title: 'Ugali (Basic)',
    image: 'https://img-global.cpcdn.com/recipes/260568fdfcdfb88c/300x426cq80/ugali-recipe-main-photo.webp',
    ingredients: [
      { name: 'Maize flour', shopId: 'maize1' },
      { name: 'Water' }
    ],
    steps: [
      'Boil water in a deep pan.',
      'Add maize flour slowly while stirring vigorously with a wooden spoon.',
      'Cook until firm and serve.'
    ]
  }

  // add remaining recipes here...
];

/* ============================
   SHOP ITEMS — REPLACED WITH YOUR PROVIDED URLs
   You asked that only the shop tap content be changed: the images below are your raw.githubusercontent URLs.
   If you want to edit item names or prices, change the `name` or `price` for each object.
   Keep the `id` consistent with recipe ingredient.shopId or recipes will not map automatically.
   ============================ */
const shopItems = [
  { id:'rice1',      name:'Basmati Rice 2kg',       price:200, image:'https://raw.githubusercontent.com/1collins/image/e88660bef9ec7d9770d55454ac4a1157a51ecca2/collins%20var/IMG-20251020-WA0001.jpg' },
  { id:'pilau-spice',name:'Pilau Masala 100g',     price:60,  image:'https://raw.githubusercontent.com/1collins/image/e88660bef9ec7d9770d55454ac4a1157a51ecca2/collins%20var/IMG-20251020-WA0002.jpg' },
  { id:'onion1',
